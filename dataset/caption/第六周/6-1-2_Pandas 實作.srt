1
00:00:13,730 --> 00:00:16,562
好下來我們來看一些這個展示

2
00:00:16,927 --> 00:00:20,673
首先我們一樣是 import 我們的這個 pandas

3
00:00:20,943 --> 00:00:22,712
然後宣告一個 dictionary

4
00:00:22,856 --> 00:00:24,110
然後呢透過

5
00:00:24,340 --> 00:00:27,328
點 dataframe 來產生我的這個資料表

6
00:00:27,353 --> 00:00:29,364
然後把這個資料印出來

7
00:00:29,693 --> 00:00:31,990
那我們要取欄位資料的時候

8
00:00:32,015 --> 00:00:35,824
我們就可以透過 df 中括號 這一個欄位的名稱

9
00:00:35,849 --> 00:00:39,547
把這一個欄位的所有資料呢 把它秀出來

10
00:00:39,572 --> 00:00:43,378
所以 這一個欄位的就是所有水果的名稱

11
00:00:44,797 --> 00:00:48,090
好 那我們可以看到前面這個地方有一個 0 1 2 3

12
00:00:48,115 --> 00:00:50,106
這個就他的索引值

13
00:00:50,131 --> 00:00:52,524
系統的會給的預設的索引值

14
00:00:52,549 --> 00:00:56,011
就是從 0 開始來去做這個遞增

15
00:00:56,484 --> 00:01:00,008
如果透過 loc 的話

16
00:01:00,049 --> 00:01:02,229
就是代表說我是要用他的索引值

17
00:01:02,262 --> 00:01:05,357
來去取出我某一筆的這個資料

18
00:01:05,526 --> 00:01:07,976
那我這個索引值是 0 的時候

19
00:01:08,001 --> 00:01:09,840
這一筆資料放剛好是

20
00:01:09,865 --> 00:01:11,977
水果 是 apple

21
00:01:12,002 --> 00:01:15,526
然後是 10 90 這筆資料 這樣取出來

22
00:01:16,066 --> 00:01:19,517
好當然我們剛有提過他是一個資料表

23
00:01:19,542 --> 00:01:24,010
可以先取這一個欄位裡面的第幾筆資料

24
00:01:24,026 --> 00:01:27,494
所以 水果的這個欄位的第 0 筆資料

25
00:01:27,519 --> 00:01:29,074
結果就是 apple

26
00:01:29,099 --> 00:01:30,876
當然我也可以說是

27
00:01:30,901 --> 00:01:33,471
取第 0 筆資料裡面的某一個欄位

28
00:01:33,511 --> 00:01:37,185
那這個跑出來的結果 事實上是一樣 也是 apple

29
00:01:38,597 --> 00:01:40,976
真實在應用的時候呢

30
00:01:41,001 --> 00:01:45,000
其實我們比較少是透過 dict 來去

31
00:01:45,277 --> 00:01:46,730
設定我們這個資料

32
00:01:46,755 --> 00:01:48,476
都是從資料庫

33
00:01:48,501 --> 00:01:52,135
或是從某一個檔案去讀取我們的這個資料

34
00:01:52,387 --> 00:01:55,696
所以我們這個地方介紹一個叫做 read_csv

35
00:01:55,721 --> 00:01:58,957
就是從 csv 檔 去抓我們這個資料

36
00:01:59,117 --> 00:02:02,461
先讓大家看一下這個csv檔

37
00:02:02,486 --> 00:02:08,656
這個地方 有證號 有sp1, sp2, lab sp3 這個地方呢

38
00:02:08,852 --> 00:02:11,542
放了很多學生的這個成績.

39
00:02:16,631 --> 00:02:18,718
這樣子 load 完了以後呢

40
00:02:18,743 --> 00:02:20,647
我們就可以讓他去做

41
00:02:20,877 --> 00:02:23,274
這個 把資料把他印出來

42
00:02:23,299 --> 00:02:26,091
那我們看一下這一個成績是 grade

43
00:02:26,190 --> 00:02:30,083
那這個就是所有的成績啦 所有的資料

44
00:02:30,314 --> 00:02:33,449
如果說你覺得這個資料這樣子太大的時候

45
00:02:33,474 --> 00:02:36,906
有時候我們只是想要看看資料的這個長相

46
00:02:36,931 --> 00:02:39,657
我們就可以用個 sample 或者是說

47
00:02:39,690 --> 00:02:40,899
用一個 head

48
00:02:41,741 --> 00:02:44,939
他就會把前面的十筆 把它秀出來

49
00:02:47,012 --> 00:02:49,654
那我們前面提到這個index呢

50
00:02:49,679 --> 00:02:51,661
他系統預定給的話

51
00:02:51,686 --> 00:02:54,051
是用 0 1 2 3 來做 可是

52
00:02:54,187 --> 00:02:57,203
這些 0 1 2 3 有時候對我們來講沒有什麼意義

53
00:02:57,228 --> 00:02:59,806
所以呢我們想要用這個

54
00:02:59,831 --> 00:03:02,887
另外一個 list 來做為我們的 index

55
00:03:02,912 --> 00:03:04,394
那我們這個地方就用

56
00:03:04,414 --> 00:03:07,390
水果這個欄位所形成的 list

57
00:03:07,415 --> 00:03:09,866
來當成是我們的索引值

58
00:03:09,916 --> 00:03:13,064
這樣子的話那我們做出來就像這個樣子

59
00:03:13,874 --> 00:03:17,370
各位看到這個地方不再是剛剛的 0 1 2 3

60
00:03:17,395 --> 00:03:19,660
而是 apple, banana 等等的

61
00:03:21,025 --> 00:03:23,377
那這樣子的話我再去抓資料的時候

62
00:03:23,402 --> 00:03:26,626
我就可以比較容易理解的說

63
00:03:26,651 --> 00:03:27,848
我要抓哪筆資料

64
00:03:27,873 --> 00:03:29,666
抓 apple 的那筆資料

65
00:03:29,691 --> 00:03:31,378
資料就可以呈現出來了

66
00:03:32,190 --> 00:03:33,611
好 另外一種方式

67
00:03:33,629 --> 00:03:36,134
就是我一開始在

68
00:03:36,379 --> 00:03:38,848
設定我的這個索引值的時候呢

69
00:03:38,873 --> 00:03:41,354
就是直接從我的這個欄位裡面去

70
00:03:41,379 --> 00:03:42,879
做一個挑選的動作

71
00:03:42,912 --> 00:03:44,173
就是透過 index

72
00:03:44,354 --> 00:03:47,079
set index 去挑選我們這個欄位

73
00:03:47,104 --> 00:03:49,203
看一下這個印出來的效果

74
00:03:49,441 --> 00:03:51,678
各位可以發現呢這個時候

75
00:03:51,906 --> 00:03:53,468
一樣是三個欄位

76
00:03:53,493 --> 00:03:57,953
可是水果這個欄位直接拿來當成是我的這個索引值

77
00:03:58,084 --> 00:04:00,413
跟上面這個地方有點不太一樣

78
00:04:00,438 --> 00:04:03,858
上面這個地方是我額外做一個欄位

79
00:04:04,595 --> 00:04:06,253
當成我的這個索引值

80
00:04:06,278 --> 00:04:07,395
只是他的內容

81
00:04:07,420 --> 00:04:10,573
剛好跟水果這個地方的內容是一樣

82
00:04:10,598 --> 00:04:11,598
如此而已

83
00:04:11,768 --> 00:04:14,134
那這個 set index

84
00:04:14,633 --> 00:04:17,046
就可以少掉一個欄位

85
00:04:17,634 --> 00:04:21,049
那我們呢也可以做一個客製化的 index

86
00:04:21,074 --> 00:04:23,569
就是我這個地方宣告一個 list

87
00:04:23,851 --> 00:04:25,423
然後呢用這個

88
00:04:25,903 --> 00:04:28,240
一樣是用這個 dataframe

89
00:04:28,265 --> 00:04:30,275
去把這個東西把它產生

90
00:04:30,300 --> 00:04:32,401
可以看到 這個地方我的 index

91
00:04:32,426 --> 00:04:35,208
就變成一個比較簡潔的 a b c d

92
00:04:35,233 --> 00:04:37,823
事實上 a 就代表 apple

93
00:04:37,848 --> 00:04:39,419
b 的話就代表 banana

94
00:04:40,008 --> 00:04:42,255
好那等一下我們會有一些動作

95
00:04:42,280 --> 00:04:43,756
可能會對我們的這個資料表

96
00:04:43,781 --> 00:04:46,269
做成了一些這個修改

97
00:04:46,294 --> 00:04:47,426
所以這個地方我們

98
00:04:47,451 --> 00:04:50,154
寫了一個方法叫做reset_data

99
00:04:50,179 --> 00:04:51,179
就是

100
00:04:51,198 --> 00:04:52,393
資料修改了以後呢

101
00:04:52,418 --> 00:04:55,020
我們再執行這一個 他會 return

102
00:04:55,131 --> 00:04:59,083
df 的這一筆資料讓他去做一個 reset

103
00:04:59,960 --> 00:05:02,171
一樣我們先執行一下

104
00:05:02,475 --> 00:05:05,054
讓這個系統認得這一個 function

105
00:05:05,352 --> 00:05:09,723
接下來我們來看一下我們怎麼去改變他的值

106
00:05:09,748 --> 00:05:11,253
改變他的值的話我們一樣

107
00:05:11,300 --> 00:05:12,300
用

108
00:05:13,084 --> 00:05:16,378
df 中括號 看是要改變哪一個欄位

109
00:05:16,403 --> 00:05:18,221
然後用一個 list

110
00:05:18,246 --> 00:05:20,172
去做一個設定

111
00:05:20,537 --> 00:05:23,488
那這樣子各位就可以看到價格的這個地方的欄位

112
00:05:23,502 --> 00:05:27,898
就做了改變 變成 10 12 20 30

113
00:05:30,041 --> 00:05:32,921
一樣我們也可以用點啊只要是

114
00:05:33,065 --> 00:05:35,708
出現中括號欄位的部分

115
00:05:35,734 --> 00:05:37,743
我們都可以用這個資料表

116
00:05:37,768 --> 00:05:43,868
df. 價格 就是點欄位等於多少來做 這個是一樣的

117
00:05:44,496 --> 00:05:46,685
那如果說你要把所有的欄位

118
00:05:46,710 --> 00:05:49,273
都把它清成是一樣的值的話

119
00:05:49,298 --> 00:05:52,638
你可以就是直接點後面一個數字

120
00:05:52,663 --> 00:05:53,826
而不是一個 list

121
00:05:53,851 --> 00:05:54,851
那我們看一下執行完了以後

122
00:05:55,718 --> 00:05:58,669
所有的價格都會變成是一個 10

123
00:05:58,694 --> 00:06:00,122
這樣的一個價格

124
00:06:00,941 --> 00:06:02,892
那在這個地方我們就先把

125
00:06:03,925 --> 00:06:05,504
資料再

126
00:06:05,744 --> 00:06:08,194
回設成原來的資料的這個內容

127
00:06:08,600 --> 00:06:10,428
好那我們現在來看一下

128
00:06:10,453 --> 00:06:13,179
就說我們可以有一些彙總的函數

129
00:06:13,204 --> 00:06:15,429
就是假設我今天

130
00:06:15,454 --> 00:06:18,477
要多增一個欄位叫做數量

131
00:06:19,596 --> 00:06:21,160
今天的想要去

132
00:06:21,200 --> 00:06:23,406
把這一個數量的這個詞

133
00:06:23,431 --> 00:06:24,818
把它做一個加總

134
00:06:24,843 --> 00:06:26,920
我們就執行一下

135
00:06:26,934 --> 00:06:29,410
這時候跑出來結果是 245

136
00:06:29,435 --> 00:06:31,435
事實上就是所有

137
00:06:31,482 --> 00:06:33,672
欄位的這個總和

138
00:06:34,045 --> 00:06:36,314
那我們也可以去做一個累加

139
00:06:36,339 --> 00:06:37,361
就是在

140
00:06:37,386 --> 00:06:40,386
數量這個欄位上我們去做一個累計

141
00:06:40,411 --> 00:06:43,568
執行完了以後各位就可以看到 90

142
00:06:43,593 --> 00:06:46,187
這個就是 apple 他的數量

143
00:06:46,212 --> 00:06:48,799
然後再加上 banana 就是 177

144
00:06:48,887 --> 00:06:51,112
然後再加上櫻桃就是 200

145
00:06:51,137 --> 00:06:52,815
以此類推 所以這個

146
00:06:52,839 --> 00:06:56,061
你要去做累加的話很簡單 就是直接

147
00:06:56,462 --> 00:06:59,387
呼叫這個 cumsum 這一個 function 就可以了

148
00:06:59,736 --> 00:07:02,343
那你如果要去算他的平均 也很簡單

149
00:07:02,375 --> 00:07:04,600
這個價格的平均就是

150
00:07:05,371 --> 00:07:08,529
18 塊 數量的話就是61.25

151
00:07:08,554 --> 00:07:10,061
當然也可以去算他的

152
00:07:10,268 --> 00:07:12,106
這個標準差等等等的

153
00:07:12,131 --> 00:07:14,718
用這個 describe 的話 就是

154
00:07:14,743 --> 00:07:17,608
會把這兩個數值相關的這個

155
00:07:17,633 --> 00:07:23,806
這個值 他在他的數量啊 平均數等等全部都秀出來

156
00:07:24,600 --> 00:07:27,837
好接下來我們看一下這個

157
00:07:27,862 --> 00:07:29,588
如果說我今天

158
00:07:29,613 --> 00:07:31,297
在抓取這個資料的時候

159
00:07:31,322 --> 00:07:34,568
我只想要抓取部分的欄位的話

160
00:07:34,586 --> 00:07:36,036
那我可以在這個地方

161
00:07:36,061 --> 00:07:38,059
加上一個 columns

162
00:07:38,084 --> 00:07:39,908
是我要抓取的欄位

163
00:07:39,933 --> 00:07:43,066
我只要抓價格跟數量這個兩個欄位

164
00:07:43,091 --> 00:07:45,226
那一樣設定我們的這個 index

165
00:07:45,957 --> 00:07:48,012
那這樣子我就執行一下

166
00:07:48,094 --> 00:07:52,293
我就發現沒有水果名稱的那一個欄位

167
00:07:52,318 --> 00:07:54,967
抓出來的就只有這兩個欄位而已

168
00:07:55,618 --> 00:07:59,801
ok 另外一種方式就是說假設你的這個 dataframe

169
00:07:59,826 --> 00:08:01,523
這個物件已經產生的話

170
00:08:01,548 --> 00:08:04,024
我就透過這個篩選方式

171
00:08:04,047 --> 00:08:06,896
只要這兩個屬性

172
00:08:06,921 --> 00:08:07,921
這也是可以的

173
00:08:07,946 --> 00:08:10,802
這樣跑出來這個效果也是一樣

174
00:08:11,433 --> 00:08:15,465
我們再一樣這個資料然後再把它清一下

175
00:08:15,982 --> 00:08:21,358
接下來我們來看一下就是我要添加一個欄位

176
00:08:21,383 --> 00:08:25,005
添加一個欄位的這個做法第一個就是

177
00:08:25,256 --> 00:08:29,327
我們透過這個 pandas

178
00:08:29,359 --> 00:08:31,549
裡面有另外一個物件 series

179
00:08:31,574 --> 00:08:34,156
series 是一維的

180
00:08:34,181 --> 00:08:35,864
他等於是一個 column 一樣

181
00:08:36,043 --> 00:08:37,043
所以呢

182
00:08:37,068 --> 00:08:39,007
這個 column 是 -1 2 0

183
00:08:39,019 --> 00:08:42,666
等一下 因為我們有 4 筆資料 所以

184
00:08:42,849 --> 00:08:47,963
每一筆資料他在這個欄位上面的值

185
00:08:47,988 --> 00:08:50,499
分別是 -1 2 0 -2 這樣子

186
00:08:50,524 --> 00:08:52,602
他的 index 一樣是 fn

187
00:08:54,232 --> 00:08:57,725
我們先產生一個 series 的物件

188
00:08:58,012 --> 00:09:00,833
各位記得 dataframe 他就是二維的

189
00:09:00,858 --> 00:09:02,452
series 就是一維的

190
00:09:02,754 --> 00:09:06,016
那接下來這個欄位的名稱

191
00:09:06,041 --> 00:09:08,430
我取名叫做品質

192
00:09:08,455 --> 00:09:10,801
所以我在這一個二維的資料

193
00:09:10,826 --> 00:09:12,032
品質方面呢

194
00:09:12,088 --> 00:09:15,865
我讓他的值就等於這一個 q

195
00:09:15,890 --> 00:09:17,712
就等於這個一維的資料

196
00:09:17,737 --> 00:09:20,715
那我們來看一下這個跑出來的結果是怎樣子

197
00:09:20,958 --> 00:09:22,611
各位有看到就是

198
00:09:22,826 --> 00:09:27,936
這一筆資料本來是只有他的價格數量跟水果名稱

199
00:09:27,961 --> 00:09:30,699
接下來還有他的品質是 -1

200
00:09:30,711 --> 00:09:31,881
也就是說這一批的

201
00:09:32,017 --> 00:09:33,254
品質不太好

202
00:09:33,279 --> 00:09:36,448
那 banana 品質還不錯是 2 等等喔

203
00:09:36,473 --> 00:09:37,603
在這個地方

204
00:09:37,628 --> 00:09:39,897
多加了一個品質這樣的欄位

205
00:09:40,247 --> 00:09:42,694
那當然呢我也可以多加一個

206
00:09:42,719 --> 00:09:46,898
這個欄位呢是從其他的欄位所計算出來的

207
00:09:46,923 --> 00:09:48,137
比方說我這個地方

208
00:09:48,199 --> 00:09:50,621
有一個叫累計的

209
00:09:50,698 --> 00:09:52,899
各位看到說我這個累計呢

210
00:09:53,106 --> 00:09:55,454
是 90 就等於這個數量

211
00:09:55,479 --> 00:10:00,827
然後 90 再加上 87 177 200 以此類推

212
00:10:00,965 --> 00:10:03,659
所以我可以再多增加這個欄位

213
00:10:05,120 --> 00:10:07,676
那一樣我們這裡再多做一個就是

214
00:10:07,710 --> 00:10:10,351
多加一個產地

215
00:10:11,980 --> 00:10:16,289
那這個就是我對資料表我可以多做一個

216
00:10:16,314 --> 00:10:17,606
資料的

217
00:10:17,963 --> 00:10:19,963
一筆資料的增加

218
00:10:20,036 --> 00:10:23,035
我們再把資料 reset 一下

219
00:10:23,694 --> 00:10:25,367
那我可以增加欄位呢

220
00:10:25,392 --> 00:10:28,368
當然我也可以去增加我的資料的這個內容

221
00:10:28,391 --> 00:10:32,853
那我們這裡再多加一個 dictionary

222
00:10:34,852 --> 00:10:36,867
他一樣是水果

223
00:10:36,891 --> 00:10:39,930
水果有兩個一個是李子跟桃子

224
00:10:39,955 --> 00:10:43,859
然後他的價格分別是 10 跟 12 等等

225
00:10:44,120 --> 00:10:47,450
那我們就可以透過 df.append

226
00:10:47,475 --> 00:10:51,327
append 再多增加一個 dataframe

227
00:10:51,352 --> 00:10:52,872
後面這個 dataframe

228
00:10:52,991 --> 00:10:54,078
他怎麼產生呢

229
00:10:54,103 --> 00:10:57,713
是透過 f2 這一個的 dictionary 所產生的

230
00:10:57,853 --> 00:11:01,328
那我們給他的 index 一個是 l 一個是 k

231
00:11:01,353 --> 00:11:02,353
那我們看一下

232
00:11:03,813 --> 00:11:06,588
增加完了以後各位就可以看到

233
00:11:06,613 --> 00:11:08,588
我們本來只有這 4 筆資料

234
00:11:08,613 --> 00:11:11,565
現在我又多增加這兩筆資料了

235
00:11:14,594 --> 00:11:17,567
那接下來這個地方

236
00:11:17,592 --> 00:11:20,315
其實我們部分剛剛都已經有提過了

237
00:11:20,340 --> 00:11:23,065
就是我想要選擇部分的這個資料

238
00:11:23,098 --> 00:11:24,824
是通過 loc

239
00:11:24,999 --> 00:11:29,212
那如果說這個資料本身的索引是很多的話

240
00:11:29,237 --> 00:11:31,879
可以用一個 list 來去做表示

241
00:11:32,070 --> 00:11:34,296
當然我也可以先選擇欄位

242
00:11:34,321 --> 00:11:36,072
這些欄位可以是多欄位的

243
00:11:36,321 --> 00:11:38,305
然後再選擇哪一筆資料

244
00:11:38,330 --> 00:11:40,770
這筆資料一樣是多資料的

245
00:11:40,795 --> 00:11:42,247
所以一樣用

246
00:11:45,763 --> 00:11:47,311
loc 來去

247
00:11:47,336 --> 00:11:49,775
用一個 list 來把他去做一個包裝

248
00:11:50,743 --> 00:11:56,281
那這個地方來就是我們用 condition 來去做資料的篩選

249
00:11:56,306 --> 00:11:57,616
首先我先去

250
00:11:58,022 --> 00:12:01,212
價格大於 20 這個地方他會

251
00:12:01,474 --> 00:12:03,012
回傳一個這個資料表

252
00:12:03,037 --> 00:12:06,608
裡面的東西都是一些布林值

253
00:12:06,847 --> 00:12:08,536
這個這樣的一個布林值

254
00:12:08,561 --> 00:12:11,155
並不是真正我要的這個資料

255
00:12:11,180 --> 00:12:13,663
所以 我們是必須要再把他

256
00:12:13,688 --> 00:12:17,315
把這個 condition 放到我這一個資料表裡面

257
00:12:17,593 --> 00:12:19,246
這樣子印出來的結果

258
00:12:19,271 --> 00:12:22,767
才會是符合這一個條件的資料表

259
00:12:25,212 --> 00:12:28,198
好那接下來我們再來看一下這個地方

260
00:12:28,223 --> 00:12:31,221
就是我們要對資料去做一個排序

261
00:12:31,246 --> 00:12:33,261
這個 fumction 就是 data

262
00:12:33,563 --> 00:12:37,682
就是 sort_values 然後我們是依照這個價格

263
00:12:37,759 --> 00:12:40,571
然後要不要遞增 要遞增

264
00:12:40,579 --> 00:12:41,269
所以

265
00:12:42,500 --> 00:12:45,453
這個跑出來的結果呢我們看一下

266
00:12:45,478 --> 00:12:47,452
我們現在是依照價格

267
00:12:47,477 --> 00:12:48,477
所以他是應該是遞減

268
00:12:48,502 --> 00:12:52,404
所以 30 20 12 10 這樣子

