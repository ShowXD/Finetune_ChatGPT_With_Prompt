1
00:00:13,483 --> 00:00:17,587
資料視覺在資料分析中也非常的重要

2
00:00:17,612 --> 00:00:20,371
一個好的圖表可以幫我們

3
00:00:20,847 --> 00:00:24,807
非常容易得了解一筆資料他的含意

4
00:00:25,089 --> 00:00:28,929
在 python 中我們比較常用的這個套件

5
00:00:28,954 --> 00:00:36,413
是這個 Matplotlib 裡面的 pyplot 這個套件

6
00:00:36,438 --> 00:00:38,573
來幫助我們畫圖

7
00:00:38,938 --> 00:00:41,047
他的功能十分的強大

8
00:00:41,072 --> 00:00:44,755
像這些圖基本上都是可以畫的

9
00:00:44,820 --> 00:00:48,946
但是呢這個 Matplotlib 就比較瑣碎一點

10
00:00:49,396 --> 00:00:52,978
既然我們現在已經學會了 dataframe

11
00:00:53,003 --> 00:00:55,994
我們就直接用 dataframe 來畫圖

12
00:00:56,439 --> 00:00:59,283
那這個 dataframe 在畫圖的過程中

13
00:00:59,308 --> 00:01:04,478
其實也會呼叫這個 Matplotlib 來幫助我們畫圖

14
00:01:04,689 --> 00:01:06,926
那我們先來看一下

15
00:01:06,951 --> 00:01:09,466
他有哪一些常用的圖表

16
00:01:10,871 --> 00:01:14,510
第一個是 plot 折線圖

17
00:01:14,535 --> 00:01:16,760
就像這個地方大家所看到的

18
00:01:16,785 --> 00:01:19,530
下面這裡的是代表某一筆資料

19
00:01:19,775 --> 00:01:23,716
那 y 軸 就代表這一個資料他的這個數據

20
00:01:23,741 --> 00:01:27,081
所以我們就是用這種折線圖來做一個表示

21
00:01:27,262 --> 00:01:29,724
這個折線圖它可以幫助我們

22
00:01:29,763 --> 00:01:32,001
比較資料的這個大小

23
00:01:32,715 --> 00:01:37,341
如果說 x 軸 代表著時間的含義的話

24
00:01:37,366 --> 00:01:39,667
還可以用來呈現這個趨勢.

25
00:01:41,668 --> 00:01:44,224
那 Bar chart 是一個條狀圖

26
00:01:44,249 --> 00:01:45,975
條形圖他可以

27
00:01:46,000 --> 00:01:49,353
主要是用來比較資料的大小

28
00:01:49,512 --> 00:01:53,201
那我們可以用橫向的方式來呈現的資料

29
00:01:53,226 --> 00:01:56,512
也可以用縱向的方式來做資料的呈現

30
00:01:57,996 --> 00:02:00,710
那圓餅圖也是常看到的

31
00:02:00,731 --> 00:02:02,706
他可以幫助我們

32
00:02:02,731 --> 00:02:06,150
比較資料所佔比例的這個多寡

33
00:02:06,175 --> 00:02:10,548
所以這整個加起來就是這個 100%

34
00:02:12,755 --> 00:02:16,123
那這個直方圖 histogram 他是

35
00:02:16,290 --> 00:02:18,935
用來表示某一個資料

36
00:02:18,960 --> 00:02:23,258
或者是一個區段的這個資料

37
00:02:23,386 --> 00:02:25,806
他的這個密度 就是說多少

38
00:02:25,831 --> 00:02:29,831
是多少個資料的量都是落在這個區間的

39
00:02:30,013 --> 00:02:32,402
從這個圖裡面各位可以看到

40
00:02:32,450 --> 00:02:35,910
大部分的資料都是落在大概 100 左右的

41
00:02:36,307 --> 00:02:40,344
那 140 或者是 60 他的資料量

42
00:02:40,369 --> 00:02:42,052
就會比較少一點

43
00:02:42,077 --> 00:02:44,653
所以我們常看到這個 normal distribution

44
00:02:44,678 --> 00:02:48,431
就是用直方圖了來去做呈現

45
00:02:50,138 --> 00:02:52,670
Scatter plots 這個散佈圖

46
00:02:52,687 --> 00:02:54,297
可以用來呈現

47
00:02:54,438 --> 00:02:57,056
兩個數值大小之間的關係

48
00:02:57,081 --> 00:02:58,916
比方說我們這個地方看到

49
00:02:59,130 --> 00:03:02,264
溫度跟銷售量

50
00:03:02,289 --> 00:03:06,518
那 12 的時候是 200 14 的時候是 200 多一點點

51
00:03:06,543 --> 00:03:07,543
以此類推

52
00:03:08,914 --> 00:03:13,348
可以從這個圖上面來看到他大概有一個線性的關係

53
00:03:13,373 --> 00:03:16,858
溫度越高的話這個東西它是賣的越好

54
00:03:17,049 --> 00:03:19,842
所以可能是賣冰淇淋之類的東西

55
00:03:21,725 --> 00:03:24,463
那接下來我們要看這個是 Boxplot

56
00:03:24,620 --> 00:03:27,098
那中文叫做是箱型圖

57
00:03:27,118 --> 00:03:28,971
又叫做盒鬚圖

58
00:03:29,130 --> 00:03:32,407
他也是用來比較資料的分佈

59
00:03:32,670 --> 00:03:34,502
每一個資料

60
00:03:34,527 --> 00:03:36,360
像我們這裡總共有 1 2 3

61
00:03:36,379 --> 00:03:38,550
三筆資料的這個分佈

62
00:03:38,876 --> 00:03:41,328
他都有五個比較重要的點

63
00:03:41,351 --> 00:03:43,326
那我們看一下右邊這個地方

64
00:03:43,351 --> 00:03:48,493
分別是 極小值 中位數 q3 跟極大值

65
00:03:48,803 --> 00:03:53,657
如果說這個資料落在極小值以下的話

66
00:03:53,682 --> 00:03:56,970
那就是一個極小的這個離群值

67
00:03:56,995 --> 00:04:01,809
那如果是在極大值以上的話也代表著一個離群值

68
00:04:02,158 --> 00:04:07,813
例如說我們現在是要呈現大家薪資的狀況

69
00:04:08,480 --> 00:04:12,920
那這個全台首富他的值能可能就會落在離群值了

70
00:04:14,039 --> 00:04:15,547
中位數的話就代表

71
00:04:15,572 --> 00:04:19,237
這一筆資料中間中間大的那一個

72
00:04:19,262 --> 00:04:23,214
那一個值就是說他是贏過百分之五十的人

73
00:04:23,698 --> 00:04:25,523
那下面的這一個 q1

74
00:04:25,548 --> 00:04:27,523
下四分位數的話就是

75
00:04:27,548 --> 00:04:29,245
在四分之一的位置

76
00:04:29,270 --> 00:04:32,364
他贏過 25% 的人

77
00:04:32,389 --> 00:04:34,301
這個地方是百分之七十五

78
00:04:34,611 --> 00:04:37,782
所以 這個箱型圖這個箱子

79
00:04:37,807 --> 00:04:40,436
就佔了百分之五十的這個資料

80
00:04:40,722 --> 00:04:43,005
如果說中位數越低的話

81
00:04:43,030 --> 00:04:46,618
就代表這個中間的值是比較偏低

82
00:04:47,242 --> 00:04:49,760
那箱型圖如果越窄的話

83
00:04:49,785 --> 00:04:52,012
就代表 50% 的

84
00:04:52,123 --> 00:04:57,514
中間的值他比較緊密一點

85
00:04:57,539 --> 00:04:59,861
集中在這個箱子裡面

86
00:05:03,267 --> 00:05:06,023
好那左邊這個地方呢是

87
00:05:06,142 --> 00:05:09,348
整個 pandas 他在畫圖的時候

88
00:05:09,373 --> 00:05:12,031
常常會用到的一些觀念

89
00:05:13,406 --> 00:05:15,952
裡面當然牽涉到一些英文命名的問題

90
00:05:15,960 --> 00:05:20,049
所以我們挑幾個比較常用的來做一下說明

91
00:05:20,438 --> 00:05:23,719
像這個 title 是在代表圖表的名稱

92
00:05:23,744 --> 00:05:27,469
就是我們的抬頭的部分

93
00:05:27,621 --> 00:05:29,951
legend 是圖例的名稱

94
00:05:29,976 --> 00:05:33,555
比方說藍色代表什麼 紅色代表什麼

95
00:05:33,799 --> 00:05:36,952
那這地方是他的軸

96
00:05:37,231 --> 00:05:40,472
那每一個軸上面呢他會有他的名稱

97
00:05:40,497 --> 00:05:44,577
就是用 xlabel 跟 ylabel 來去做一個表示

98
00:05:44,815 --> 00:05:48,427
那刻度的話就是 tick

99
00:05:50,412 --> 00:05:53,433
接下來我們用這兩個表格

100
00:05:53,458 --> 00:05:55,385
等一下來呈現一些圖表

101
00:05:55,410 --> 00:05:59,443
那其中的 s 是代表著一群學生

102
00:05:59,468 --> 00:06:00,854
總共有 50 個學生

103
00:06:01,052 --> 00:06:04,354
他們上課的成績 英文數學和物理

104
00:06:04,736 --> 00:06:07,164
那這個表 sg 的這個表

105
00:06:07,196 --> 00:06:11,421
代表三個班級 C1 C2 C3

106
00:06:11,446 --> 00:06:13,791
男生跟女生的數量

107
00:06:13,816 --> 00:06:16,584
這兩個表來跟大家做說明

108
00:06:17,323 --> 00:06:22,069
那第一個我們是用 plot 來去畫折線圖

109
00:06:22,466 --> 00:06:24,615
那我們看一下非常的簡單

110
00:06:24,640 --> 00:06:26,402
只要一行的指令就可以把

111
00:06:26,433 --> 00:06:28,886
看起來好像還滿複雜的

112
00:06:28,932 --> 00:06:30,243
折線圖把他畫出來

113
00:06:30,553 --> 00:06:34,347
就是 s 是一個 dataframe 的物件 .plot

114
00:06:34,729 --> 00:06:37,636
那你這個 title 後面的參數如果沒有寫的話

115
00:06:37,661 --> 00:06:40,784
也沒關係他就不會呈現這一個 title

116
00:06:41,102 --> 00:06:45,276
有寫 title 等於多少的話這個地方就會呈現出來

117
00:06:45,633 --> 00:06:47,839
而且他會預設的幫你把

118
00:06:47,864 --> 00:06:50,862
這個圖例的說明直接放在右上角

119
00:06:50,887 --> 00:06:52,847
這個是還滿方便的

120
00:06:54,219 --> 00:06:57,647
如果說你不要用 dataframe.plot 來做

121
00:06:57,647 --> 00:07:00,956
你想用這個 matplot 來做的話也是可以

122
00:07:00,981 --> 00:07:02,957
首先我們先做一個 import

123
00:07:03,354 --> 00:07:05,099
然後設定他 title 的話

124
00:07:05,124 --> 00:07:09,386
就直接用這個 plt 他等於是一個 plot 的物件

125
00:07:09,624 --> 00:07:12,227
.title 去設定這個 title

126
00:07:12,521 --> 00:07:15,235
然後去設定它的 x 軸跟 y 軸

127
00:07:15,267 --> 00:07:21,394
然後再透過 plot 把 s 這筆資料把它印出來

128
00:07:22,419 --> 00:07:24,332
左右這兩張圖他們差別

129
00:07:24,357 --> 00:07:25,586
各位可以看到就是說

130
00:07:25,611 --> 00:07:28,031
他是有 xlabel 跟 ylabel 的

131
00:07:28,158 --> 00:07:34,071
在 matplot 裡面呢去設定它的 x 跟 ylabel 是相當容易的

132
00:07:34,111 --> 00:07:36,230
但是呢在

133
00:07:36,361 --> 00:07:40,835
在 dataframe 裡面是沒有一個直接的物件去設定它的

134
00:07:40,860 --> 00:07:41,860
必須要先去

135
00:07:42,155 --> 00:07:44,415
獲得他另外一個物件才去設定它

136
00:07:44,440 --> 00:07:48,218
所以 那個部份我們今天先把他跳過

137
00:07:49,843 --> 00:07:52,546
那如果說我要去畫這個 histogram 的話

138
00:07:52,571 --> 00:07:55,295
一樣只要一個指令就結束了

139
00:07:55,320 --> 00:07:57,713
s.hist() 他就會把

140
00:07:57,812 --> 00:08:00,240
這三筆資料他的分佈把他秀出來

141
00:08:00,274 --> 00:08:03,781
所以 看一下物理這一個科目

142
00:08:03,797 --> 00:08:06,138
好像大家都考得不是很好

143
00:08:06,163 --> 00:08:10,685
在 0 分到十幾分的數量是比較多的

144
00:08:11,004 --> 00:08:15,028
在數學方面的話還好像平均一點

145
00:08:15,734 --> 00:08:17,207
那英

146
00:08:17,972 --> 00:08:19,976
剛剛是英文課啦

147
00:08:20,001 --> 00:08:23,615
物理課的話他整個成績分布是這個樣子的

148
00:08:25,414 --> 00:08:26,766
那 Bar chart 的話

149
00:08:26,791 --> 00:08:28,286
一樣是一行的指令

150
00:08:28,311 --> 00:08:34,487
s.plot.bar 所以是先呼叫 plot 這個指令

151
00:08:34,512 --> 00:08:36,048
再去呼叫 bar

152
00:08:36,671 --> 00:08:39,510
我們也可以去指定一下他的

153
00:08:39,844 --> 00:08:43,009
這個大小因為這個 x 軸 其實非常的多

154
00:08:43,042 --> 00:08:45,375
所以我們做一個 figsize 等於 10

155
00:08:45,384 --> 00:08:48,010
10 就代表他這個寬的部分

156
00:08:48,256 --> 00:08:52,598
然後高的部分就是設為 5 呈現起來就會變成這樣子

157
00:08:53,122 --> 00:08:55,804
如果說你今天想要是用

158
00:08:55,829 --> 00:08:57,974
橫向的 bar 的話

159
00:08:57,999 --> 00:09:00,474
就在 bar 右邊加上一個 h

160
00:09:00,499 --> 00:09:02,980
代表 horizon 水平的意思

161
00:09:05,371 --> 00:09:08,196
好那我們再看另外一個例子

162
00:09:08,221 --> 00:09:09,706
可能會更清楚一點

163
00:09:09,731 --> 00:09:11,616
資料量比較少一點

164
00:09:11,641 --> 00:09:13,910
對這個 bar chart 比較有意義

165
00:09:14,347 --> 00:09:19,560
那我們看一下就是 3 班 c1 c2 c3

166
00:09:19,585 --> 00:09:22,512
他們男生跟女生的這個數量

167
00:09:22,537 --> 00:09:26,426
就可以透過這個 bar chart 很清楚的看到了

168
00:09:26,803 --> 00:09:29,985
如果說你今天並不想

169
00:09:30,468 --> 00:09:33,160
把這兩筆資料混雜在一起的話

170
00:09:33,192 --> 00:09:34,915
我可以下一個參數就是

171
00:09:34,940 --> 00:09:37,700
subplots=True

172
00:09:37,773 --> 00:09:42,559
這樣的話他就會自動的把這兩筆資料分開呈現

173
00:09:44,003 --> 00:09:47,812
接下來我們看這個 pie chart

174
00:09:48,352 --> 00:09:50,042
那 pie chart 一樣

175
00:09:50,051 --> 00:09:53,550
我們先去呼叫 plot 再去呼叫這個 pie

176
00:09:54,376 --> 00:09:56,403
後面這個地方 y=boy

177
00:09:56,428 --> 00:09:58,098
所代表的意思是因為這裡

178
00:09:58,123 --> 00:10:01,303
有兩筆資料 所以你必須去選定

179
00:10:01,328 --> 00:10:03,158
你是要呈現哪一筆資料

180
00:10:03,286 --> 00:10:05,201
所以當 y=boy 的話

181
00:10:05,416 --> 00:10:09,066
代表我是要去分析 y 的資料

182
00:10:09,436 --> 00:10:15,042
那 autopct pct 是代表 percent 就是百分比的意思

183
00:10:15,717 --> 00:10:18,639
等於這裡是一個字串第一個 percent

184
00:10:18,664 --> 00:10:22,122
代表說我是要用百分制的方式來呈現

185
00:10:22,400 --> 00:10:26,630
後面的 .2f 是代表說小數點下兩位

186
00:10:26,900 --> 00:10:29,217
那一樣是圖形的這個大小

187
00:10:29,560 --> 00:10:32,074
如果是今天我想要把

188
00:10:32,147 --> 00:10:34,122
這兩個資料全部都呈現的話

189
00:10:34,147 --> 00:10:37,018
就做一個 subplots=True

190
00:10:37,043 --> 00:10:38,661
這樣的話就兩筆資料

191
00:10:38,892 --> 00:10:40,328
就會呈現出來了

