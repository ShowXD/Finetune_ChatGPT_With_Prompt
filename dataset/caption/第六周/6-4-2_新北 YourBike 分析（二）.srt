0
00:00:00,000 --> 00:00:13,000


1
00:00:14,000 --> 00:00:16,000
好 延續剛剛的 bar chart

2
00:00:16,800 --> 00:00:20,000
我們現在用 pie chart 來呈現這一筆資料

3
00:00:20,000 --> 00:00:24,300
那麼首先還是看一下 station count 的這一筆資料

4
00:00:24,400 --> 00:00:31,000
station count 就是每一個區域他有多少個station

5
00:00:31,000 --> 00:00:33,000
這樣的一筆資料 那我們現在呢

6
00:00:33,100 --> 00:00:36,000
要用 pie chart 來做這件事情

7
00:00:36,500 --> 00:00:38,000
相當的簡單 只要一行就好了

8
00:00:38,100 --> 00:00:42,000
直接對這個 dataframe.plot.pie

9
00:00:42,000 --> 00:00:46,000
設定一下他的資料是 count

10
00:00:46,300 --> 00:00:52,000
然後 y 等於 count 然後 autopct 我們是小數點下一位

11
00:00:52,000 --> 00:00:54,000
然後這是他的大小 制定一下 title

12
00:00:54,000 --> 00:00:57,500
然後我們來執行一下這一個程式碼

13
00:01:00,000 --> 00:01:02,000
執行完以後我就會這樣子

14
00:01:02,100 --> 00:01:04,000
那我們這筆資料他是有排序過的

15
00:01:04,300 --> 00:01:09,000
可以看一下他排序的這個執行

16
00:01:09,000 --> 00:01:13,000
會從 x 軸的這個地方開始 然後逆時針的

17
00:01:13,500 --> 00:01:18,000
就是由小而大的來做這個資料的呈現

18
00:01:18,000 --> 00:01:20,000
好那因為我們這筆資料已經有排序過了

19
00:01:20,200 --> 00:01:23,000
所以這個地方是最小的深坑區

20
00:01:23,100 --> 00:01:28,000
一直繞到最右邊 到板橋去的話大概就佔了百分之十五點三

21
00:01:30,000 --> 00:01:32,800
那接下來我們來看這個地理的分布

22
00:01:33,000 --> 00:01:37,000
把所有的 station 用這個地理的方式

23
00:01:37,000 --> 00:01:39,000
去把它呈現出來

24
00:01:39,500 --> 00:01:43,300
那我們先執行一下 來看一下這個結果 呈現出來就是這個樣子

25
00:01:43,500 --> 00:01:49,000
這個我剛剛有講解過 中間這個地方 空的就是台北市

26
00:01:49,000 --> 00:01:53,000
這裡是 x 軸就相當於是我的經度

27
00:01:53,000 --> 00:01:56,000
這個地方相對於是我的緯度

28
00:01:56,100 --> 00:01:58,800
所以要畫出這樣子的一筆資料的話

29
00:01:59,000 --> 00:02:01,000
其實我們只需要兩個欄位

30
00:02:01,100 --> 00:02:04,000
一個就是他的經度 一個就是他的緯度

31
00:02:04,000 --> 00:02:07,000
這個在 df 裡面本來就有這兩筆資料了

32
00:02:07,100 --> 00:02:12,000
所以我們就去選擇這兩個欄位

33
00:02:12,000 --> 00:02:16,000
lng 跟 lat 把他們放在 df2 裡面

34
00:02:16,500 --> 00:02:20,000
然後你要去畫這一個散佈圖的話就是 scatter

35
00:02:20,000 --> 00:02:26,000
x 軸我們去讓他設定是lng  y 軸的話是lat

36
00:02:26,300 --> 00:02:29,000
然後設定一下大小 就可以呈現出這樣一個結果

37
00:02:30,000 --> 00:02:35,000
那我們也看一下 df2 的這一筆資料好了 df2 就這樣子

38
00:02:37,500 --> 00:02:40,000
接下來我們再來看這個借出

39
00:02:40,500 --> 00:02:42,500
我們觀察一下像他這個借出率

40
00:02:42,800 --> 00:02:47,300
那在這個地方我們同時考慮一下就是...

41
00:02:47,400 --> 00:02:49,000
我們只算那些有在營運的

42
00:02:49,000 --> 00:02:53,300
因為沒有在營運統計算他的解除一好像不太公平

43
00:02:53,500 --> 00:02:57,000
那我們有一個欄位 就是這個 act 這個字

44
00:02:57,000 --> 00:03:00,300
如果等於1的話 就是代表說他是有在營運的

45
00:03:00,500 --> 00:03:04,500
那我們這個資料 df 再回顧一下

46
00:03:04,600 --> 00:03:09,300
最右邊這個地方 有個 1 的話就代表說他是有在營運的

47
00:03:09,800 --> 00:03:12,000
所以這個地方做一個 boolean 的這個判斷

48
00:03:12,300 --> 00:03:16,000
那接下來我們要去算他的這個借出率的話

49
00:03:16,000 --> 00:03:20,000
借出率的話 那我們就是讓這個 sbi

50
00:03:20,000 --> 00:03:26,000
sbi 就是這個站現在有多少輛車子有在裡面

51
00:03:26,000 --> 00:03:28,000
所以讓他去除以我這個 total

52
00:03:28,000 --> 00:03:32,000
所以就是目前有在這個 station 的這個比例

53
00:03:33,000 --> 00:03:37,000
然後我們再讓一去扣掉這一個比例

54
00:03:37,500 --> 00:03:40,000
那就是借出去的

55
00:03:41,000 --> 00:03:46,000
完了以後要去算百分比 讓他去乘以一百

56
00:03:47,000 --> 00:03:50,000
那乘以一百以後呢 我們要求小數點下一位

57
00:03:50,000 --> 00:03:54,000
所以我們在這個地方透過 round 1 去算到小數點下一位

58
00:03:55,000 --> 00:03:58,000
所以呢 我們這個地方執行一下

59
00:03:59,800 --> 00:04:03,000
那麼一樣我們來看一下 df2 的這一筆資料

60
00:04:03,300 --> 00:04:07,000
df2 的這一筆資料右邊這個地方

61
00:04:07,000 --> 00:04:11,700
多加了一個欄位就是他的 rate 就是他借的這個比例

62
00:04:12,000 --> 00:04:16,000
可以去點一下 最小的從零開始 那最大的話

63
00:04:16,000 --> 00:04:21,000
這個資料是一百所以借出率百分之百的 station 其實還蠻多的

64
00:04:22,000 --> 00:04:28,000
那我們用這個 describe 來看一下這一筆資料相關的統計

65
00:04:29,000 --> 00:04:31,000
所以總共有五百七十七筆資料

66
00:04:32,000 --> 00:04:36,000
他的平均是 65.3 標準差是 22.6

67
00:04:36,000 --> 00:04:40,000
那最小是 0 那中位數的話是 66

68
00:04:40,000 --> 00:04:41,500
最大的話是 100

69
00:04:42,000 --> 00:04:47,500
那如果說你覺得這樣的一個方式還是不夠視覺化 不好看的話

70
00:04:48,000 --> 00:04:52,300
我們可以去呼叫這個 boxplot 去執行他

71
00:04:53,000 --> 00:04:56,000
那你可以看到這個盒鬚圖 他事實上

72
00:04:56,500 --> 00:05:01,300
百分之五十的資料都是落在了八十二到五十中間

73
00:05:02,000 --> 00:05:09,000
那他的中位數還是偏高的話 大概有將近 70 左右 這一筆資料

74
00:05:10,000 --> 00:05:13,000
最後的話我們再回到散布的這個地方

75
00:05:13,800 --> 00:05:17,000
我們一樣來看一下這個資料的這個分佈

76
00:05:17,200 --> 00:05:20,000
但是呢 我們有一個小變化

77
00:05:20,200 --> 00:05:23,000
就在這個地方我們透過一個 c 等於 green

78
00:05:23,000 --> 00:05:28,000
c 代表是 color 他的顏色 顏色我把他變成是一個綠色

79
00:05:28,000 --> 00:05:31,700
同時我們這個地方做一個 s 等於 df2 rate

80
00:05:32,000 --> 00:05:34,000
s 的話是代表他的 size 的大小

81
00:05:34,700 --> 00:05:38,500
大小呢 會跟你這個 rate 是相關的

82
00:05:39,000 --> 00:05:42,700
就是你的借出率越高的話呢 這個值就越大嘛

83
00:05:43,000 --> 00:05:47,000
他這個圈圈就會大一點 反之的話就會比較小一點

84
00:05:47,700 --> 00:05:51,000
然後我們可以在這個資料裡面看到 好像這個點

85
00:05:51,000 --> 00:05:54,000
就是比較小一點 這個就比較小一點

86
00:05:54,000 --> 00:05:58,000
所以有少數的這個借出率 事實上是的比較低的

87
00:05:58,000 --> 00:05:02,000
可以用這樣子的視覺化的來看我們的這一筆資料

