1
00:00:14,021 --> 00:00:16,274
大家好 這一節我們

2
00:00:16,299 --> 00:00:17,299
來跟各位介紹

3
00:00:17,324 --> 00:00:19,552
另外一個實用的套件

4
00:00:19,577 --> 00:00:21,258
叫做 twstock

5
00:00:21,334 --> 00:00:24,059
這個就是台灣的股價

6
00:00:24,084 --> 00:00:26,367
那我們可以去透過這一個股價

7
00:00:26,392 --> 00:00:28,904
去取得一些股票

8
00:00:28,929 --> 00:00:32,819
它的價格或者是成交量方面的資訊

9
00:00:32,844 --> 00:00:35,817
所以如果你是做金融分析的話

10
00:00:35,842 --> 00:00:38,539
這個套件應該滿實用的

11
00:00:38,692 --> 00:00:40,959
那首先我必須要把

12
00:00:40,984 --> 00:00:42,801
這一個套件把它 import

13
00:00:42,822 --> 00:00:46,547
那 Anaconda 預設值是沒有這個套件的

14
00:00:46,572 --> 00:00:50,801
所以我們用 pip 把這個套件安裝起來

15
00:00:51,326 --> 00:00:53,782
安裝完了以後呢在這個套件裡面

16
00:00:53,802 --> 00:00:57,026
有一個物件叫做 stock

17
00:00:57,051 --> 00:01:01,033
後面我只要給一個股票它的代號

18
00:01:01,058 --> 00:01:02,460
它就會回傳

19
00:01:02,548 --> 00:01:04,532
這一支股票 它的一些

20
00:01:04,557 --> 00:01:07,292
它的一個物件

21
00:01:07,317 --> 00:01:09,505
那我就可以從這個物件呢

22
00:01:09,530 --> 00:01:12,005
去取得它的 price

23
00:01:12,030 --> 00:01:18,125
所以這個物件.price 它就會回傳它最近 31 天的收盤價

24
00:01:18,348 --> 00:01:20,569
那我們先來執行一下看一下

25
00:01:22,269 --> 00:01:27,427
所以花仙子最近 31 天的收盤價都在這個地方

26
00:01:27,936 --> 00:01:29,975
那這個樣子我們就可以做一些應用啦

27
00:01:30,000 --> 00:01:33,052
比方說你買了一堆的股票

28
00:01:33,077 --> 00:01:36,001
你就可以把這些股票建成一個 list

29
00:01:36,026 --> 00:01:37,385
或者是 dictionary

30
00:01:37,553 --> 00:01:40,727
這個地方我是 dictionary 來做儲存

31
00:01:40,846 --> 00:01:42,672
那我就可以用一個迴圈

32
00:01:42,697 --> 00:01:45,573
把我這些股票全都秀出來

33
00:01:46,994 --> 00:01:50,766
我們上面的是秀出它

34
00:01:50,812 --> 00:01:52,589
31天的收盤價

35
00:01:52,614 --> 00:01:54,803
如果說你不想看得這麼遠的話

36
00:01:54,828 --> 00:01:55,852
我們可以在

37
00:01:56,081 --> 00:01:58,206
這個地方加上一個 -3

38
00:01:58,231 --> 00:02:00,399
那 list 這個地方我們有講過

39
00:02:00,424 --> 00:02:03,907
你前面是 -3 就是倒數的三筆資料

40
00:02:03,932 --> 00:02:05,139
把它呈現出來

41
00:02:05,164 --> 00:02:09,883
所以 這樣秀出來就是最近3天的股票

42
00:02:09,908 --> 00:02:11,934
除了這個功能以外 我們也可以

43
00:02:11,959 --> 00:02:15,652
看這個即時的股價

44
00:02:15,677 --> 00:02:19,161
它用到的物件就是 real time

45
00:02:19,186 --> 00:02:20,098
然後 get

46
00:02:20,123 --> 00:02:22,963
後面這個地方一樣是股票的代碼

47
00:02:22,988 --> 00:02:26,199
它就回傳一個這個物件回來

48
00:02:26,224 --> 00:02:29,749
這個物件其實是一個 dictionary

49
00:02:29,774 --> 00:02:33,027
所以我可以看 success 這一個 key 值

50
00:02:33,056 --> 00:02:35,954
如果它回傳是一個 true 的話

51
00:02:35,979 --> 00:02:39,928
代表這次資料的取得是對的

52
00:02:40,334 --> 00:02:41,334
那所以呢

53
00:02:41,453 --> 00:02:45,208
如果是對的我們就印出說及時股票資料

54
00:02:45,233 --> 00:02:48,144
然後把這個股票把它

55
00:02:48,523 --> 00:02:49,910
把這個資訊印出來

56
00:02:49,935 --> 00:02:53,161
否則的話我就印出一個錯誤訊息

57
00:02:53,472 --> 00:02:55,219
那目前股票的話呢

58
00:02:55,244 --> 00:03:02,014
股價就可以從 realtime 裡面看它 latest_trade_price

59
00:03:02,272 --> 00:03:04,861
這一個即時的價格把它呈現出來

60
00:03:05,482 --> 00:03:07,632
那各位也可以執行一下

61
00:03:07,657 --> 00:03:11,349
看一下這個 real 本身的架構是長什麼樣子

62
00:03:15,961 --> 00:03:18,867
可以看到它事實上是一個 dictionary

63
00:03:18,892 --> 00:03:21,347
 由很多的 key value 所構成的

64
00:03:21,372 --> 00:03:25,451
那網路其實也有更多的應用

65
00:03:25,476 --> 00:03:26,848
那我們就不一一講解了

66
00:03:26,873 --> 00:03:30,856
各位可以到 github.com 這一個網址裡面

67
00:03:30,881 --> 00:03:33,825
它有更多的應用的功能

